<!doctype html>

<html lang="en" class="no-js">
    <head>

        <meta property="og:url" content="https://maxjdobrei.github.io/temp/index.html">
    </head>

    <body>
        <p id="output"></p>
        
        <script>
            
            url = document.URL
            //localStorage.clear()
           
            //being given the url of the form https://maxjdobrei.github.io/temp/index.html?n=max&email=max@gmail.com&userid=max&c=abcdefg
            //need to isolate the parameters     
            if (url.includes("?"))
            {
                params = url.split("?")[1].split("&")
                name = params[0].split("=")[1]
                email = params[1].split("=")[1]
                userid = params[2].split("=")[1]
                cookie = params[3].split("=")[1]
                let arr = [email, userid, cookie]

                localStorage.setItem(name, arr)
            }
            
            let s = ""
            for (let i = 0; i < localStorage.length; i++)
            {
                name = localStorage.key(i)
                arr = localStorage.getItem(name)
                
                s = "Name: " +name +", Email: " +arr[0] +", Userid: " +arr[1] +", Cookie: " +arr[2]
            
                const para = document.createElement("p");
                para.innerText = s
                document.body.appendChild(para);
            
            }

        </script>

</body>

</html>